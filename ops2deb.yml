- name: kubectl
  version: 1.22.2
  summary: Command line client for controlling a Kubernetes cluster
  description: |
    kubectl is a command line client for running commands against Kubernetes clusters.
  fetch:
    url: https://storage.googleapis.com/kubernetes-release/release/v{{version}}/bin/linux/amd64/kubectl
    sha256: aeca0018958c1cae0bf2f36f566315e52f87bdab38b440df349cd091e9f13f36
  script:
  - mv kubectl {{src}}/usr/bin/

- name: kustomize
  version: 3.8.10
  depends:
  - kubectl
  summary: Kubernetes native configuration management
  description: |
    kustomize lets you customize raw, template-free YAML files for multiple purposes,
    leaving the original YAML untouched and usable as is.
    kustomize targets kubernetes; it understands and can patch kubernetes style API objects.
    It's like make, in that what it does is declared in a file,
    and it's like sed, in that it emits edited text.
  fetch:
    url: https://github.com/kubernetes-sigs/kustomize/releases/download/kustomize/v{{version}}/kustomize_v{{version}}_linux_amd64.tar.gz
    sha256: 10281b6cd16a50fcbb4a762652bf5ab333633d37035fc7f76ee7b941b50b511d
  script:
  - mv kustomize {{src}}/usr/bin/

- name: helm
  version: 3.7.0
  depends:
  - kubectl
  summary: The Kubernetes package manager
  description: |
    Tool for managing Kubernetes charts.
    Charts are packages of pre-configured Kubernetes resources.
  fetch:
    url: https://get.helm.sh/helm-v{{version}}-linux-amd64.tar.gz
    sha256: 096e30f54c3ccdabe30a8093f8e128dba76bb67af697b85db6ed0453a2701bf9
  script:
  - mv linux-amd64/helm {{src}}/usr/bin/

- name: istioctl
  version: 1.11.2
  depends:
  - kubectl
  summary: Istio service mesh CLI
  description: Istio is an open platform to connect, manage, and secure microservices.
  fetch:
    url: https://github.com/istio/istio/releases/download/{{version}}/istio-{{version}}-linux-amd64.tar.gz
    sha256: cd6a9311ac72a535932ff025fbd217717f855d9c8022d906f1c088c9c994716e
  script:
  - install -d {{src}}/opt/istio
  - mv * {{src}}/opt/istio/
  - ln -s /opt/istio/istio-{{version}}/bin/istioctl {{src}}/usr/bin/istioctl

- name: kubeseal
  version: 0.16.0
  summary: Secret management solution for k8s
  description: Encrypt your Secret into a SealedSecret, which is safe to store - even
    to a public repository.
  fetch:
    url: https://github.com/bitnami-labs/sealed-secrets/releases/download/v{{version}}/kubeseal-linux-amd64
    sha256: 0899c583053a7c242359985545d9c5c76899fb965dd9d1c46cbcc8b4dd2071ed
  script:
  - install -m 755 kubeseal-linux-amd64 {{src}}/usr/bin/kubeseal

- name: helmfile
  version: 0.140.1
  depends:
  - kubectl
  - helm
  summary: Deploy Kubernetes Helm Charts
  description: |
    Helmfile is a declarative spec for deploying helm charts. It lets you...
    - Keep a directory of chart value files and maintain changes in version control.
    - Apply CI/CD to configuration changes.
    - Periodically sync to avoid skew in environments.
  fetch:
    url: https://github.com/roboll/helmfile/releases/download/v{{version}}/helmfile_linux_amd64
    sha256: 8a705454cbbeea6d4c53949c59c7ce011fd737aa578ef208f57608fa573125b1
  script:
  - install -m 755 helmfile_linux_amd64 {{src}}/usr/bin/helmfile

- name: minikube
  version: 1.23.2
  summary: Quickly set up a local Kubernetes cluster
  description: |
    Focus on helping application developers and new Kubernetes users.
    Supports the latest Kubernetes release (+6 previous minor versions)
    Cross-platform (Linux, macOS, Windows)
    Deploy as a VM, a container, or on bare-metal
    Multiple container runtimes (CRI-O, containerd, docker)
    Docker API endpoint for blazing fast image pushes
    Advanced features such as LoadBalancer, filesystem mounts, and FeatureGates
    Addons for easily installed Kubernetes applications
  fetch:
    url: https://storage.googleapis.com/minikube/releases/v{{version}}/minikube-linux-amd64
    sha256: 752d91414793b6a88b309c806b65841ffa62a3bf07383146bd54afbf15de80b4
  script:
  - install -m 755 minikube-linux-amd64 {{src}}/usr/bin/minikube
